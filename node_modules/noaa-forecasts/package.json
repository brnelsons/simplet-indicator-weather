{
  "name": "noaa-forecasts",
  "version": "0.0.4",
  "description": "A Promised-based library for fetching JSON forecast data from NOAA",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/thataustin/noaa-forecasts.git"
  },
  "keywords": [
    "noaa",
    "forecast",
    "weather"
  ],
  "author": {
    "name": "thataustin@gmail.com"
  },
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/thataustin/noaa-forecasts/issues"
  },
  "homepage": "https://github.com/thataustin/noaa-forecasts",
  "dependencies": {
    "bluebird": "^2.9.30",
    "dwml-to-json": "0.0.3",
    "moment": "^2.10.3",
    "restling": "^0.9.1",
    "underscore": "^1.8.3"
  },
  "devDependencies": {
    "minimist": "^1.1.1"
  },
  "readme": "# noaa-forecasts\nA Promised-based library for fetching forecast data from NOAA.  Promises are of the [Bluebird](https://github.com/petkaantonov/bluebird/blob/master/API.md) flavor.\n\n### Install\nnpm install --save noaa-forecasts\n\n### Quick Start\n\n    1. Get an API key from NOAA (https://www.ncdc.noaa.gov/cdo-web/token)\n    2. npm install noaa-forecasts\n    3. var noaaForecaster = require('noaa-forecasts');\n    4. read the docs below to figure out how which method to use :)\n\n### .getForecast(apiParams) - using this library as a json formatter\n\nWith this method, you're simply passing API params through to the NOAA API (where this library does very little to change what you pass in other than formatting it for the api)\n\nTo do so, pass in any of the parameters found on the [NOAA REST API page](http://graphical.weather.gov/xml/rest.php)\nThe complete list of elementInputNames (ie, the data you actually care about) can be found [here](http://graphical.weather.gov/xml/docs/elementInputNames.php)\n\nHere's an example from the test file in this code base:\n\n    var moment = require('moment');\n    var noaaForecaster = require('../index');\n    var inspect = require('util').inspect;\n    \n    var obj = {\n      listLatLon: '38.99,-77.01 37.7833,-122.4167',\n      product: 'time-series', // this is a default, it's not actually required\n      begin: moment().format('YYYY-MM-DDTHH:mm:ss'),\n      end: moment().add(3, 'days').format('YYYY-MM-DDTHH:mm:ss'),\n      qpf: 'qpf', // first elementInputName - Liquid Precipitation Amount\n      pop12: 'pop12' // another elementInputName - 12 hour probability of precipitation    \n    };\n    \n    var token = 'XXXXX-XXXXXXXX-XXXXXXXX-XXXXXX;\n    noaaForecaster.setToken(token);\n    noaaForecaster.getForecast(obj)\n      .then(function(results) {\n        console.log(inspect(results, { colors: true, depth: Infinity }));\n      });\n\n\n### .attachForecasts(businessObjects, forecastDetails) - adding a `.forecast` attribute to your business objects\n\nThe problem with using this library as a simple JSON formatter occurs when you have multiple points.  In your business data, you may have something like this:\n\n    [\n        { project: 1, lat: '33.00', lon: '-127.00' },\n        { project: 2, lat: '33.00', lon: '-127.10' }\n    ]\n\nWhere `project: 1` has meaning to you (though it has none to the NOAA API), and you'd really just like to attach a forecast to that `project: 1`.\n\nYour best attempts to make an API call for both of those points (in the same call) will get you something back like this:\n\n    [\n        { 'Point1': /** forecast data **/, ... }\n        { 'Point2': /** forecast data **/, ... }\n    ]\n\nThat is, NOAA will name the points to Point1, Point2, etc... and give you no indication of which business object of yours the forecast is for.  You'd have to do either a comparison of the lat/lon's or something similar to what this method will do for you - carefully remember which points you passed in, in order, and then match them up with Point1, Point2, etc (which are also ordered).  Or, you can let this method do all that for you.\n\nAn example:\n\n    var moment = require('moment');\n    var noaaForecaster = require('../index');\n    var inspect = require('util').inspect;\n\n    // forecast details are applied to all the business objects.  The goal being to only make 1 request, for efficiency\n    var forecastDetails = {\n      product: 'time-series',  // this is a default, it's not actually required\n      begin: moment().format(),\n      end: moment().add(3, 'days').format(),\n      qpf: 'qpf', // Liquid Precipitation Amount\n      pop12: 'pop12' // 12 hour probability of precipitation\n    };\n\n    // each object must have a lat and a lon\n    var myGeoBusinessObjects = [\n      { project: 1, lat: '38.99', lon: '-77.01' },\n      { project: 2, lat: '38.99', lon: '-77.01' }\n    ];\n\n    var token = 'XXXXX-XXXXXXXX-XXXXXXXX-XXXXXX;\n    noaaForecaster.setToken(token);\n    noaaForecaster.attachForecasts(myGeoBusinessObjects, forecastDetails)\n      .then(function(results) {\n        console.log(inspect(results, { colors: true, depth: Infinity }));\n      });\n\nI encourage you to simply log the results to see how the data is formatted for your points.\n\n**NOTE**: This method returns the original object, NOT a copy!\n**NOTE**: The location returned in the appended forecast object is the location that NOAA used, not the one you passed in.  They may not be the same if NOAA truncated some of the decimal places.\n\n### test\nTo manually test, run one of the following\n\n    node bin/test-getForecast.js --token=[token]\n    node bin/test-attachForecasts.js --token=[token]\n\nwith the token you got from NOAA from [here](https://www.ncdc.noaa.gov/cdo-web/token)\n\nPlay around with the parameters in those files to get a feel for how it works.",
  "readmeFilename": "README.md",
  "_id": "noaa-forecasts@0.0.4",
  "dist": {
    "shasum": "5081e26c7066918b086b5f05086108976fb38ac5"
  },
  "_from": "noaa-forecasts@*",
  "_resolved": "https://registry.npmjs.org/noaa-forecasts/-/noaa-forecasts-0.0.4.tgz"
}
